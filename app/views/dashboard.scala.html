@(dashboardItems: List[Dashboard], dashboardForm: play.data.Form[Dashboard]) 

@import helper._ 

<link rel="stylesheet" href='@routes.Assets.at("stylesheets/jquery.jqplot.min.css")'>
<script src='@routes.Assets.at("javascripts/jquery.jqplot.min.js")' type="text/javascript"></script>
<script src='@routes.Assets.at("javascripts/jquery.pieRenderer.min.js")' type="text/javascript"></script>

@main("Dashboard") {
	
	@flash_message()
	
	<h2>Device status</h2>
	<p>You may observe the status of the devices in this table. Active devices 
	  are in green rows while inactive devices are shown in red. An inactive device is one that 
	  has not posted a sensor reading in the last 60 seconds.</p>
		
	<table class="table table-striped table-hover table-bordered table-condensed">
		<thead>
			<tr>
				<th>Device Id</th>
				<th>Location</th>
				<th>Status</th>
			</tr>
		</thead>
	
		<tbody>
		
		@for(dashboardItem <- dashboardItems) {
		
			@if(dashboardItem.getStatus() == 1) {
			<tr class="success">
			} else {
			<tr class="danger">
			}			
				<td>@dashboardItem.getDevice().getId()</td>
				<td>@dashboardItem.getDevice().getRegTimestamp()</td>
				@if(dashboardItem.getStatus() == 1) {
				<td>Active</td>
				} else {
				<td>Inactive</td>
				}	
				
			</tr>
			
		}
			
		</tbody>
		
			
	</table>
	
}
