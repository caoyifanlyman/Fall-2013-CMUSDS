<!-- Copyright (c) 2013 Carnegie Mellon University Silicon Valley.  -->
<!-- All rights reserved.  -->

<!-- This program and the accompanying materials are made available -->
<!-- under the terms of dual licensing(GPL V2 for Research/Education -->
<!-- purposes). GNU Public License v2.0 which accompanies this distribution -->
<!-- is available at http://www.gnu.org/licenses/old-licenses/gpl-2.0.html -->
<!-- This program is distributed in the hope that it will be useful, -->
<!-- but WITHOUT ANY WARRANTY; without even the implied warranty of -->
<!-- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  -->

<!-- Please contact http://www.cmu.edu/silicon-valley/ if you have any  -->
<!-- questions.  -->

@(sensorTypes: List[metadata.SensorType], sensorTypeForm: play.data.Form[metadata.SensorType])

@import helper._
@import helper.twitterBootstrap._

@main("Sensor Types") {
    
    @flash_message()
    
    <h1>@sensorTypes.size() Sensor Type(s)</h1>
    <table class="table table-striped table-bordered table-condensed">
    <tr>
    	<td>Sensor Type Name</td>
    	<td>Manufacturer</td>
    	<td>Version</td>
    	<td>Max Value</td>
    	<td>Min Value</td>
    	<td>Unit</td>
    	<td>Interpreter</td>
    	
    	@if(session.get("email")){
    	<td>Operation</td>
    	}
    </tr>

        @for(sensorType <- sensorTypes) {
    <tr>
            <td>@sensorType.getSensorTypeName()</td>
                <td>@sensorType.getManufacturer()</td>
                <td>@sensorType.getVersion()</td>
                <td>@sensorType.getMaxValue()</td>
                <td>@sensorType.getMinValue()</td>
                <td>@sensorType.getUnit()</td>
                <td>@sensorType.getInterpreter()</td>
                
    						@if(session.get("email")){
                <td>
               		 	@form(routes.SensorTypeController.deleteSensorType()){
               		 		<input name="idHolder" type="hidden" value="@sensorType.getId()">
        							<input type="submit"  class="btn btn-danger" value="Delete" onclick="return confirm('Are you sure you want to delete this item?')">
            				}
               			
            		</td>
            		}
    </tr>
        }
    </table>
    
    
    @if(session.get("email")){
    <h2>Add a new sensor type</h2>
    
    @form(routes.SensorTypeController.newSensorType()) {
         
        @inputText(
                sensorTypeForm("sensorTypeName"), 
                '_label -> "Sensor Type Name",     
                'size -> 30,
                'placeholder-> "the name of this sensor type",           
                '_error -> sensorTypeForm.globalError                                
        )
        @inputText(
                sensorTypeForm("manufacturer"), 
                '_label -> "Manufacturer",  
                'size -> 30,
                'placeholder-> "the name of Manufacturer",               
                '_error -> sensorTypeForm.globalError                                
        )
        @inputText(
                sensorTypeForm("version"), 
                '_label -> "Version",
                'placeholder-> 1.0,                 
                '_error -> sensorTypeForm.globalError                                
        )
        @inputText(
                sensorTypeForm("maxValue"), 
                '_label -> "Max Value",
                'placeholder-> 1.9,                 
                '_error -> sensorTypeForm.globalError                                
        )
        @inputText(
                sensorTypeForm("minValue"), 
                '_label -> "Min Value",                 
                'placeholder-> 1.1,                 
                '_error -> sensorTypeForm.globalError                                
        )
        @inputText(
                sensorTypeForm("unit"), 
                '_label -> "Unit",                 
                'placeholder-> "Celsius",                 
                '_error -> sensorTypeForm.globalError                                
        )
        @inputText(
                sensorTypeForm("interpreter"), 
                '_label -> "Interpreter",                 
                'placeholder-> "y = 0.7506 * x + 32",                 
                '_error -> sensorTypeForm.globalError                                
        )
        
        <input class="btn" type="submit" value="Register">
        <a href="@routes.SensorTypeController.sensorTypes()" class="btn">Cancel</a>
        
    }
 		}   
}